[0m[1mmodule.etl.data.aws_security_group.db_sg: Reading...[0m[0m
[0m[1mmodule.etl.data.aws_caller_identity.current: Reading...[0m[0m
[0m[1mmodule.etl.data.aws_subnet.public_a: Reading...[0m[0m
[0m[1mmodule.etl.data.aws_iam_policy_document.glue_access_policy: Reading...[0m[0m
[0m[1mmodule.etl.data.aws_iam_policy_document.glue_base_policy: Reading...[0m[0m
[0m[1mmodule.etl.data.aws_iam_policy_document.glue_access_policy: Read complete after 0s [id=2526717434][0m
[0m[1mmodule.etl.data.aws_iam_policy_document.glue_base_policy: Read complete after 0s [id=3940084333][0m
[0m[1mmodule.etl.data.aws_caller_identity.current: Read complete after 0s [id=555833365064][0m
[0m[1mmodule.etl.data.aws_security_group.db_sg: Read complete after 0s [id=sg-0ed86dfb0b1147bfb][0m
[0m[1mmodule.etl.data.aws_subnet.public_a: Read complete after 0s [id=subnet-078c2372f95425d86][0m

Terraform used the selected providers to generate the following execution
plan. Resource actions are indicated with the following symbols:
  [32m+[0m create[0m
 [36m<=[0m read (data resources)[0m

Terraform will perform the following actions:

[1m  # module.etl.aws_glue_catalog_database.ml_database[0m will be created
[0m  [32m+[0m[0m resource "aws_glue_catalog_database" "ml_database" {
      [32m+[0m[0m arn          = (known after apply)
      [32m+[0m[0m catalog_id   = (known after apply)
      [32m+[0m[0m description  = "Database for performing ml from OLTP data"
      [32m+[0m[0m id           = (known after apply)
      [32m+[0m[0m location_uri = (known after apply)
      [32m+[0m[0m name         = "de-c1w4-ml-db"
      [32m+[0m[0m region       = "us-east-1"
      [32m+[0m[0m tags_all     = (known after apply)

      [32m+[0m[0m create_table_default_permission (known after apply)
    }

[1m  # module.etl.aws_glue_connection.rds_connection[0m will be created
[0m  [32m+[0m[0m resource "aws_glue_connection" "rds_connection" {
      [32m+[0m[0m arn                   = (known after apply)
      [32m+[0m[0m catalog_id            = (known after apply)
      [32m+[0m[0m connection_properties = (sensitive value)
      [32m+[0m[0m connection_type       = "JDBC"
      [32m+[0m[0m id                    = (known after apply)
      [32m+[0m[0m name                  = "de-c1w4-rds-connection"
      [32m+[0m[0m region                = "us-east-1"
      [32m+[0m[0m tags_all              = (known after apply)

      [32m+[0m[0m physical_connection_requirements {
          [32m+[0m[0m availability_zone      = "us-east-1a"
          [32m+[0m[0m security_group_id_list = [
              [32m+[0m[0m "sg-0ed86dfb0b1147bfb",
            ]
          [32m+[0m[0m subnet_id              = "subnet-078c2372f95425d86"
        }
    }

[1m  # module.etl.aws_glue_crawler.s3_crawler[0m will be created
[0m  [32m+[0m[0m resource "aws_glue_crawler" "s3_crawler" {
      [32m+[0m[0m arn           = (known after apply)
      [32m+[0m[0m database_name = "de-c1w4-ml-db"
      [32m+[0m[0m id            = (known after apply)
      [32m+[0m[0m name          = "de-c1w4-ml-db-crawler"
      [32m+[0m[0m region        = "us-east-1"
      [32m+[0m[0m role          = (known after apply)
      [32m+[0m[0m tags_all      = (known after apply)

      [32m+[0m[0m recrawl_policy {
          [32m+[0m[0m recrawl_behavior = "CRAWL_NEW_FOLDERS_ONLY"
        }

      [32m+[0m[0m s3_target {
          [32m+[0m[0m path = "s3://de-c1w4-555833365064-us-east-1-datalake/gold"
        }

      [32m+[0m[0m schema_change_policy {
          [32m+[0m[0m delete_behavior = "LOG"
          [32m+[0m[0m update_behavior = "LOG"
        }
    }

[1m  # module.etl.aws_glue_job.etl_job[0m will be created
[0m  [32m+[0m[0m resource "aws_glue_job" "etl_job" {
      [32m+[0m[0m arn               = (known after apply)
      [32m+[0m[0m connections       = [
          [32m+[0m[0m "de-c1w4-rds-connection",
        ]
      [32m+[0m[0m default_arguments = {
          [32m+[0m[0m "--enable-job-insights" = "true"
          [32m+[0m[0m "--glue_connection"     = "de-c1w4-rds-connection"
          [32m+[0m[0m "--glue_database"       = "de-c1w4-ml-db"
          [32m+[0m[0m "--job-language"        = "python"
          [32m+[0m[0m "--target_path"         = "s3://de-c1w4-555833365064-us-east-1-datalake"
        }
      [32m+[0m[0m glue_version      = "4.0"
      [32m+[0m[0m id                = (known after apply)
      [32m+[0m[0m job_mode          = (known after apply)
      [32m+[0m[0m max_capacity      = (known after apply)
      [32m+[0m[0m name              = "de-c1w4-etl-job"
      [32m+[0m[0m number_of_workers = 2
      [32m+[0m[0m region            = "us-east-1"
      [32m+[0m[0m role_arn          = (known after apply)
      [32m+[0m[0m tags_all          = (known after apply)
      [32m+[0m[0m timeout           = 5
      [32m+[0m[0m worker_type       = "G.1X"

      [32m+[0m[0m command {
          [32m+[0m[0m name            = "glueetl"
          [32m+[0m[0m python_version  = "3"
          [32m+[0m[0m runtime         = (known after apply)
          [32m+[0m[0m script_location = "s3://de-c1w4-555833365064-us-east-1-scripts/de-c1w4-etl-job.py"
        }

      [32m+[0m[0m execution_property (known after apply)

      [32m+[0m[0m notification_property (known after apply)
    }

[1m  # module.etl.aws_iam_role.glue_role[0m will be created
[0m  [32m+[0m[0m resource "aws_iam_role" "glue_role" {
      [32m+[0m[0m arn                   = (known after apply)
      [32m+[0m[0m assume_role_policy    = jsonencode(
            {
              [32m+[0m[0m Statement = [
                  [32m+[0m[0m {
                      [32m+[0m[0m Action    = "sts:AssumeRole"
                      [32m+[0m[0m Effect    = "Allow"
                      [32m+[0m[0m Principal = {
                          [32m+[0m[0m Service = "glue.amazonaws.com"
                        }
                      [32m+[0m[0m Sid       = "AllowGlueToAssumeRole"
                    },
                ]
              [32m+[0m[0m Version   = "2012-10-17"
            }
        )
      [32m+[0m[0m create_date           = (known after apply)
      [32m+[0m[0m force_detach_policies = false
      [32m+[0m[0m id                    = (known after apply)
      [32m+[0m[0m managed_policy_arns   = (known after apply)
      [32m+[0m[0m max_session_duration  = 3600
      [32m+[0m[0m name                  = "de-c1w4-glue-role"
      [32m+[0m[0m name_prefix           = (known after apply)
      [32m+[0m[0m path                  = "/"
      [32m+[0m[0m tags_all              = (known after apply)
      [32m+[0m[0m unique_id             = (known after apply)

      [32m+[0m[0m inline_policy (known after apply)
    }

[1m  # module.etl.aws_iam_role_policy.task_role_policy[0m will be created
[0m  [32m+[0m[0m resource "aws_iam_role_policy" "task_role_policy" {
      [32m+[0m[0m id          = (known after apply)
      [32m+[0m[0m name        = "de-c1w4-glue-role-policy"
      [32m+[0m[0m name_prefix = (known after apply)
      [32m+[0m[0m policy      = jsonencode(
            {
              [32m+[0m[0m Statement = [
                  [32m+[0m[0m {
                      [32m+[0m[0m Action   = [
                          [32m+[0m[0m "sqs:*",
                          [32m+[0m[0m "s3:*",
                          [32m+[0m[0m "rds:*",
                          [32m+[0m[0m "logs:*",
                          [32m+[0m[0m "iam:*",
                          [32m+[0m[0m "glue:*",
                          [32m+[0m[0m "ec2:*",
                          [32m+[0m[0m "cloudwatch:*",
                          [32m+[0m[0m "cloudtrail:*",
                        ]
                      [32m+[0m[0m Effect   = "Allow"
                      [32m+[0m[0m Resource = "*"
                      [32m+[0m[0m Sid      = "AllowGlueAccess"
                    },
                ]
              [32m+[0m[0m Version   = "2012-10-17"
            }
        )
      [32m+[0m[0m role        = (known after apply)
    }

[1m  # module.streaming_inference.data.archive_file.transformation_lambda[0m will be read during apply
  # (depends on a resource or a module with changes pending)
[0m [36m<=[0m[0m data "archive_file" "transformation_lambda" {
      [32m+[0m[0m id                  = (known after apply)
      [32m+[0m[0m output_base64sha256 = (known after apply)
      [32m+[0m[0m output_base64sha512 = (known after apply)
      [32m+[0m[0m output_md5          = (known after apply)
      [32m+[0m[0m output_path         = "./assets/transformation_lambda/lambda.zip"
      [32m+[0m[0m output_sha          = (known after apply)
      [32m+[0m[0m output_sha256       = (known after apply)
      [32m+[0m[0m output_sha512       = (known after apply)
      [32m+[0m[0m output_size         = (known after apply)
      [32m+[0m[0m source_file         = "./assets/transformation_lambda/main.py"
      [32m+[0m[0m type                = "zip"
    }

[1m  # module.streaming_inference.data.aws_caller_identity.current[0m will be read during apply
  # (depends on a resource or a module with changes pending)
[0m [36m<=[0m[0m data "aws_caller_identity" "current" {
      [32m+[0m[0m account_id = (known after apply)
      [32m+[0m[0m arn        = (known after apply)
      [32m+[0m[0m id         = (known after apply)
      [32m+[0m[0m user_id    = (known after apply)
    }

[1m  # module.streaming_inference.data.aws_iam_policy_document.firehose_assume_role[0m will be read during apply
  # (depends on a resource or a module with changes pending)
[0m [36m<=[0m[0m data "aws_iam_policy_document" "firehose_assume_role" {
      [32m+[0m[0m id            = (known after apply)
      [32m+[0m[0m json          = (known after apply)
      [32m+[0m[0m minified_json = (known after apply)

      [32m+[0m[0m statement {
          [32m+[0m[0m actions = [
              [32m+[0m[0m "sts:AssumeRole",
            ]
          [32m+[0m[0m effect  = "Allow"

          [32m+[0m[0m principals {
              [32m+[0m[0m identifiers = [
                  [32m+[0m[0m "firehose.amazonaws.com",
                ]
              [32m+[0m[0m type        = "Service"
            }
        }
    }

[1m  # module.streaming_inference.data.aws_iam_policy_document.firehose_role_policy[0m will be read during apply
  # (config refers to values not yet known)
[0m [36m<=[0m[0m data "aws_iam_policy_document" "firehose_role_policy" {
      [32m+[0m[0m id            = (known after apply)
      [32m+[0m[0m json          = (known after apply)
      [32m+[0m[0m minified_json = (known after apply)

      [32m+[0m[0m statement {
          [32m+[0m[0m actions   = [
              [32m+[0m[0m "glue:GetTable",
              [32m+[0m[0m "glue:GetTableVersion",
              [32m+[0m[0m "glue:GetTableVersions",
            ]
          [32m+[0m[0m effect    = "Allow"
          [32m+[0m[0m resources = [
              [32m+[0m[0m "arn:aws:glue:*:*:catalog",
              [32m+[0m[0m "arn:aws:glue:*:*:database/%FIREHOSE_POLICY_TEMPLATE_PLACEHOLDER%",
              [32m+[0m[0m "arn:aws:glue:*:*:table/%FIREHOSE_POLICY_TEMPLATE_PLACEHOLDER%/%FIREHOSE_POLICY_TEMPLATE_PLACEHOLDER%",
            ]
          [32m+[0m[0m sid       = "Glue"
        }
      [32m+[0m[0m statement {
          [32m+[0m[0m actions   = [
              [32m+[0m[0m "kafka-cluster:Connect",
              [32m+[0m[0m "kafka:DescribeCluster",
              [32m+[0m[0m "kafka:DescribeClusterV2",
              [32m+[0m[0m "kafka:GetBootstrapBrokers",
            ]
          [32m+[0m[0m effect    = "Allow"
          [32m+[0m[0m resources = [
              [32m+[0m[0m "arn:aws:kafka:*:*:cluster/%FIREHOSE_POLICY_TEMPLATE_PLACEHOLDER%/%FIREHOSE_POLICY_TEMPLATE_PLACEHOLDER%",
            ]
          [32m+[0m[0m sid       = "KafkaCluster"
        }
      [32m+[0m[0m statement {
          [32m+[0m[0m actions   = [
              [32m+[0m[0m "kafka-cluster:DescribeTopic",
              [32m+[0m[0m "kafka-cluster:DescribeTopicDynamicConfiguration",
              [32m+[0m[0m "kafka-cluster:ReadData",
            ]
          [32m+[0m[0m effect    = "Allow"
          [32m+[0m[0m resources = [
              [32m+[0m[0m "arn:aws:kafka:*:*:topic/%FIREHOSE_POLICY_TEMPLATE_PLACEHOLDER%/%FIREHOSE_POLICY_TEMPLATE_PLACEHOLDER%/%FIREHOSE_POLICY_TEMPLATE_PLACEHOLDER%",
            ]
          [32m+[0m[0m sid       = "KafkaClusterDescribe"
        }
      [32m+[0m[0m statement {
          [32m+[0m[0m actions   = [
              [32m+[0m[0m "kafka-cluster:DescribeGroup",
            ]
          [32m+[0m[0m effect    = "Allow"
          [32m+[0m[0m resources = [
              [32m+[0m[0m "arn:aws:kafka:*:*:group/%FIREHOSE_POLICY_TEMPLATE_PLACEHOLDER%/%FIREHOSE_POLICY_TEMPLATE_PLACEHOLDER%/*",
            ]
          [32m+[0m[0m sid       = "KafkaDescribeCluster"
        }
      [32m+[0m[0m statement {
          [32m+[0m[0m actions   = [
              [32m+[0m[0m "s3:AbortMultipartUpload",
              [32m+[0m[0m "s3:GetBucketLocation",
              [32m+[0m[0m "s3:GetObject",
              [32m+[0m[0m "s3:ListBucket",
              [32m+[0m[0m "s3:ListBucketMultipartUploads",
              [32m+[0m[0m "s3:PutObject",
            ]
          [32m+[0m[0m effect    = "Allow"
          [32m+[0m[0m resources = [
              [32m+[0m[0m "arn:aws:s3:::de-c1w4-555833365064-us-east-1-recommendations",
              [32m+[0m[0m "arn:aws:s3:::de-c1w4-555833365064-us-east-1-recommendations/*",
            ]
          [32m+[0m[0m sid       = "S3Policy"
        }
      [32m+[0m[0m statement {
          [32m+[0m[0m actions   = [
              [32m+[0m[0m "lambda:GetFunctionConfiguration",
              [32m+[0m[0m "lambda:InvokeFunction",
            ]
          [32m+[0m[0m effect    = "Allow"
          [32m+[0m[0m resources = [
              [32m+[0m[0m (known after apply),
            ]
          [32m+[0m[0m sid       = "Lambda"
        }
      [32m+[0m[0m statement {
          [32m+[0m[0m actions   = [
              [32m+[0m[0m "kms:Decrypt",
              [32m+[0m[0m "kms:GenerateDataKey",
            ]
          [32m+[0m[0m effect    = "Allow"
          [32m+[0m[0m resources = [
              [32m+[0m[0m "arn:aws:kms:*:*:key/%FIREHOSE_POLICY_TEMPLATE_PLACEHOLDER%",
            ]
          [32m+[0m[0m sid       = "KMS"

          [32m+[0m[0m condition {
              [32m+[0m[0m test     = "StringEquals"
              [32m+[0m[0m values   = [
                  [32m+[0m[0m "s3.*.amazonaws.com",
                ]
              [32m+[0m[0m variable = "kms:ViaService"
            }
          [32m+[0m[0m condition {
              [32m+[0m[0m test     = "StringLike"
              [32m+[0m[0m values   = [
                  [32m+[0m[0m "arn:aws:s3:::%FIREHOSE_POLICY_TEMPLATE_PLACEHOLDER%/*",
                  [32m+[0m[0m "arn:aws:s3:::%FIREHOSE_POLICY_TEMPLATE_PLACEHOLDER%",
                ]
              [32m+[0m[0m variable = "kms:EncryptionContext:aws:s3:arn"
            }
        }
      [32m+[0m[0m statement {
          [32m+[0m[0m actions   = [
              [32m+[0m[0m "logs:PutLogEvents",
            ]
          [32m+[0m[0m effect    = "Allow"
          [32m+[0m[0m resources = [
              [32m+[0m[0m "arn:aws:logs:*:*:log-group:%FIREHOSE_POLICY_TEMPLATE_PLACEHOLDER%:log-stream:*",
              [32m+[0m[0m "arn:aws:logs:*:*:log-group:/aws/kinesisfirehose/*:log-stream:*",
            ]
          [32m+[0m[0m sid       = "Logs"
        }
      [32m+[0m[0m statement {
          [32m+[0m[0m actions   = [
              [32m+[0m[0m "kinesis:DescribeStream",
              [32m+[0m[0m "kinesis:GetRecords",
              [32m+[0m[0m "kinesis:GetShardIterator",
              [32m+[0m[0m "kinesis:ListShards",
            ]
          [32m+[0m[0m effect    = "Allow"
          [32m+[0m[0m resources = [
              [32m+[0m[0m "arn:aws:kinesis:us-east-1:555833365064:stream/de-c1w4-kinesis-data-stream",
            ]
          [32m+[0m[0m sid       = "Kinesis"
        }
      [32m+[0m[0m statement {
          [32m+[0m[0m actions   = [
              [32m+[0m[0m "kms:Decrypt",
            ]
          [32m+[0m[0m effect    = "Allow"
          [32m+[0m[0m resources = [
              [32m+[0m[0m "arn:aws:kms:*:*:key/%FIREHOSE_POLICY_TEMPLATE_PLACEHOLDER%",
            ]
          [32m+[0m[0m sid       = "KinesisDecrypt"

          [32m+[0m[0m condition {
              [32m+[0m[0m test     = "StringEquals"
              [32m+[0m[0m values   = [
                  [32m+[0m[0m "kinesis.*.amazonaws.com",
                ]
              [32m+[0m[0m variable = "kms:ViaService"
            }
          [32m+[0m[0m condition {
              [32m+[0m[0m test     = "StringLike"
              [32m+[0m[0m values   = [
                  [32m+[0m[0m "arn:aws:kinesis:us-east-1:555833365064:stream/de-c1w4-kinesis-data-stream",
                ]
              [32m+[0m[0m variable = "kms:EncryptionContext:aws:kinesis:arn"
            }
        }
    }

[1m  # module.streaming_inference.data.aws_iam_policy_document.lambda_assume_role[0m will be read during apply
  # (depends on a resource or a module with changes pending)
[0m [36m<=[0m[0m data "aws_iam_policy_document" "lambda_assume_role" {
      [32m+[0m[0m id            = (known after apply)
      [32m+[0m[0m json          = (known after apply)
      [32m+[0m[0m minified_json = (known after apply)

      [32m+[0m[0m statement {
          [32m+[0m[0m actions = [
              [32m+[0m[0m "sts:AssumeRole",
            ]
          [32m+[0m[0m effect  = "Allow"

          [32m+[0m[0m principals {
              [32m+[0m[0m identifiers = [
                  [32m+[0m[0m "lambda.amazonaws.com",
                ]
              [32m+[0m[0m type        = "Service"
            }
        }
    }

[1m  # module.streaming_inference.aws_iam_role.firehose_role[0m will be created
[0m  [32m+[0m[0m resource "aws_iam_role" "firehose_role" {
      [32m+[0m[0m arn                   = (known after apply)
      [32m+[0m[0m assume_role_policy    = (known after apply)
      [32m+[0m[0m create_date           = (known after apply)
      [32m+[0m[0m force_detach_policies = false
      [32m+[0m[0m id                    = (known after apply)
      [32m+[0m[0m managed_policy_arns   = (known after apply)
      [32m+[0m[0m max_session_duration  = 3600
      [32m+[0m[0m name                  = "de-c1w4-firehose-role"
      [32m+[0m[0m name_prefix           = (known after apply)
      [32m+[0m[0m path                  = "/"
      [32m+[0m[0m tags_all              = (known after apply)
      [32m+[0m[0m unique_id             = (known after apply)

      [32m+[0m[0m inline_policy (known after apply)
    }

[1m  # module.streaming_inference.aws_iam_role.transformation_lambda_role[0m will be created
[0m  [32m+[0m[0m resource "aws_iam_role" "transformation_lambda_role" {
      [32m+[0m[0m arn                   = (known after apply)
      [32m+[0m[0m assume_role_policy    = (known after apply)
      [32m+[0m[0m create_date           = (known after apply)
      [32m+[0m[0m force_detach_policies = false
      [32m+[0m[0m id                    = (known after apply)
      [32m+[0m[0m managed_policy_arns   = (known after apply)
      [32m+[0m[0m max_session_duration  = 3600
      [32m+[0m[0m name                  = "de-c1w4-transformation-lambda-role"
      [32m+[0m[0m name_prefix           = (known after apply)
      [32m+[0m[0m path                  = "/"
      [32m+[0m[0m tags_all              = (known after apply)
      [32m+[0m[0m unique_id             = (known after apply)

      [32m+[0m[0m inline_policy (known after apply)
    }

[1m  # module.streaming_inference.aws_iam_role_policy.firehose_role_policy[0m will be created
[0m  [32m+[0m[0m resource "aws_iam_role_policy" "firehose_role_policy" {
      [32m+[0m[0m id          = (known after apply)
      [32m+[0m[0m name        = "de-c1w4-firehose-role-policy"
      [32m+[0m[0m name_prefix = (known after apply)
      [32m+[0m[0m policy      = (known after apply)
      [32m+[0m[0m role        = (known after apply)
    }

[1m  # module.streaming_inference.aws_iam_role_policy_attachment.lambda_execution_policy_attachment[0m will be created
[0m  [32m+[0m[0m resource "aws_iam_role_policy_attachment" "lambda_execution_policy_attachment" {
      [32m+[0m[0m id         = (known after apply)
      [32m+[0m[0m policy_arn = "arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
      [32m+[0m[0m role       = "de-c1w4-transformation-lambda-role"
    }

[1m  # module.streaming_inference.aws_kinesis_firehose_delivery_stream.extended_s3_stream[0m will be created
[0m  [32m+[0m[0m resource "aws_kinesis_firehose_delivery_stream" "extended_s3_stream" {
      [32m+[0m[0m arn            = (known after apply)
      [32m+[0m[0m destination    = "extended_s3"
      [32m+[0m[0m destination_id = (known after apply)
      [32m+[0m[0m id             = (known after apply)
      [32m+[0m[0m name           = "de-c1w4-delivery-stream"
      [32m+[0m[0m region         = "us-east-1"
      [32m+[0m[0m tags_all       = (known after apply)
      [32m+[0m[0m version_id     = (known after apply)

      [32m+[0m[0m extended_s3_configuration {
          [32m+[0m[0m bucket_arn         = "arn:aws:s3:::de-c1w4-555833365064-us-east-1-recommendations"
          [32m+[0m[0m buffering_interval = 300
          [32m+[0m[0m buffering_size     = 5
          [32m+[0m[0m compression_format = "UNCOMPRESSED"
          [32m+[0m[0m custom_time_zone   = "UTC"
          [32m+[0m[0m role_arn           = (known after apply)
          [32m+[0m[0m s3_backup_mode     = "Disabled"

          [32m+[0m[0m cloudwatch_logging_options {
              [32m+[0m[0m enabled         = true
              [32m+[0m[0m log_group_name  = "de-c1w4-delivery-stream-logs"
              [32m+[0m[0m log_stream_name = "de-c1w4-delivery-stream-logstream"
            }

          [32m+[0m[0m processing_configuration {
              [32m+[0m[0m enabled = true

              [32m+[0m[0m processors {
                  [32m+[0m[0m type = "Lambda"

                  [32m+[0m[0m parameters {
                      [32m+[0m[0m parameter_name  = "LambdaArn"
                      [32m+[0m[0m parameter_value = (known after apply)
                    }
                }
            }
        }

      [32m+[0m[0m kinesis_source_configuration {
          [32m+[0m[0m kinesis_stream_arn = "arn:aws:kinesis:us-east-1:555833365064:stream/de-c1w4-kinesis-data-stream"
          [32m+[0m[0m role_arn           = (known after apply)
        }
    }

[1m  # module.streaming_inference.aws_lambda_function.transformation_lambda[0m will be created
[0m  [32m+[0m[0m resource "aws_lambda_function" "transformation_lambda" {
      [32m+[0m[0m architectures                  = [
          [32m+[0m[0m "arm64",
        ]
      [32m+[0m[0m arn                            = (known after apply)
      [32m+[0m[0m code_sha256                    = (known after apply)
      [32m+[0m[0m description                    = "Lambda function to transform data in Kinesis Firehose"
      [32m+[0m[0m filename                       = "./assets/transformation_lambda/lambda.zip"
      [32m+[0m[0m function_name                  = "de-c1w4-transformation-lambda"
      [32m+[0m[0m handler                        = "main.lambda_handler"
      [32m+[0m[0m id                             = (known after apply)
      [32m+[0m[0m invoke_arn                     = (known after apply)
      [32m+[0m[0m last_modified                  = (known after apply)
      [32m+[0m[0m memory_size                    = 128
      [32m+[0m[0m package_type                   = "Zip"
      [32m+[0m[0m publish                        = false
      [32m+[0m[0m qualified_arn                  = (known after apply)
      [32m+[0m[0m qualified_invoke_arn           = (known after apply)
      [32m+[0m[0m region                         = "us-east-1"
      [32m+[0m[0m reserved_concurrent_executions = -1
      [32m+[0m[0m role                           = (known after apply)
      [32m+[0m[0m runtime                        = "python3.12"
      [32m+[0m[0m signing_job_arn                = (known after apply)
      [32m+[0m[0m signing_profile_version_arn    = (known after apply)
      [32m+[0m[0m skip_destroy                   = false
      [32m+[0m[0m source_code_hash               = (known after apply)
      [32m+[0m[0m source_code_size               = (known after apply)
      [32m+[0m[0m tags_all                       = (known after apply)
      [32m+[0m[0m timeout                        = 60
      [32m+[0m[0m version                        = (known after apply)

      [32m+[0m[0m environment {
          [32m+[0m[0m variables = {
              [32m+[0m[0m "URL_LAMBDA_INFERENCE" = "https://giyatlzxdxynh2f64aaaj3xrva0apqoz.lambda-url.us-east-1.on.aws/"
            }
        }

      [32m+[0m[0m ephemeral_storage {
          [32m+[0m[0m size = 512
        }

      [32m+[0m[0m logging_config (known after apply)

      [32m+[0m[0m tracing_config {
          [32m+[0m[0m mode = "PassThrough"
        }
    }

[1m  # module.vector_db.data.aws_iam_policy_document.rds_assume_role[0m will be read during apply
  # (depends on a resource or a module with changes pending)
[0m [36m<=[0m[0m data "aws_iam_policy_document" "rds_assume_role" {
      [32m+[0m[0m id            = (known after apply)
      [32m+[0m[0m json          = (known after apply)
      [32m+[0m[0m minified_json = (known after apply)

      [32m+[0m[0m statement {
          [32m+[0m[0m actions = [
              [32m+[0m[0m "sts:AssumeRole",
            ]
          [32m+[0m[0m effect  = "Allow"

          [32m+[0m[0m principals {
              [32m+[0m[0m identifiers = [
                  [32m+[0m[0m "rds.amazonaws.com",
                ]
              [32m+[0m[0m type        = "Service"
            }
        }
    }

[1m  # module.vector_db.data.aws_subnet.public_a[0m will be read during apply
  # (depends on a resource or a module with changes pending)
[0m [36m<=[0m[0m data "aws_subnet" "public_a" {
      [32m+[0m[0m arn                                            = (known after apply)
      [32m+[0m[0m assign_ipv6_address_on_creation                = (known after apply)
      [32m+[0m[0m availability_zone                              = (known after apply)
      [32m+[0m[0m availability_zone_id                           = (known after apply)
      [32m+[0m[0m available_ip_address_count                     = (known after apply)
      [32m+[0m[0m cidr_block                                     = (known after apply)
      [32m+[0m[0m customer_owned_ipv4_pool                       = (known after apply)
      [32m+[0m[0m default_for_az                                 = (known after apply)
      [32m+[0m[0m enable_dns64                                   = (known after apply)
      [32m+[0m[0m enable_lni_at_device_index                     = (known after apply)
      [32m+[0m[0m enable_resource_name_dns_a_record_on_launch    = (known after apply)
      [32m+[0m[0m enable_resource_name_dns_aaaa_record_on_launch = (known after apply)
      [32m+[0m[0m id                                             = "subnet-078c2372f95425d86"
      [32m+[0m[0m ipv6_cidr_block                                = (known after apply)
      [32m+[0m[0m ipv6_cidr_block_association_id                 = (known after apply)
      [32m+[0m[0m ipv6_native                                    = (known after apply)
      [32m+[0m[0m map_customer_owned_ip_on_launch                = (known after apply)
      [32m+[0m[0m map_public_ip_on_launch                        = (known after apply)
      [32m+[0m[0m outpost_arn                                    = (known after apply)
      [32m+[0m[0m owner_id                                       = (known after apply)
      [32m+[0m[0m private_dns_hostname_type_on_launch            = (known after apply)
      [32m+[0m[0m region                                         = (known after apply)
      [32m+[0m[0m state                                          = (known after apply)
      [32m+[0m[0m tags                                           = (known after apply)
      [32m+[0m[0m vpc_id                                         = (known after apply)
    }

[1m  # module.vector_db.data.aws_subnet.public_b[0m will be read during apply
  # (depends on a resource or a module with changes pending)
[0m [36m<=[0m[0m data "aws_subnet" "public_b" {
      [32m+[0m[0m arn                                            = (known after apply)
      [32m+[0m[0m assign_ipv6_address_on_creation                = (known after apply)
      [32m+[0m[0m availability_zone                              = (known after apply)
      [32m+[0m[0m availability_zone_id                           = (known after apply)
      [32m+[0m[0m available_ip_address_count                     = (known after apply)
      [32m+[0m[0m cidr_block                                     = (known after apply)
      [32m+[0m[0m customer_owned_ipv4_pool                       = (known after apply)
      [32m+[0m[0m default_for_az                                 = (known after apply)
      [32m+[0m[0m enable_dns64                                   = (known after apply)
      [32m+[0m[0m enable_lni_at_device_index                     = (known after apply)
      [32m+[0m[0m enable_resource_name_dns_a_record_on_launch    = (known after apply)
      [32m+[0m[0m enable_resource_name_dns_aaaa_record_on_launch = (known after apply)
      [32m+[0m[0m id                                             = "subnet-08190a662f99d3e2f"
      [32m+[0m[0m ipv6_cidr_block                                = (known after apply)
      [32m+[0m[0m ipv6_cidr_block_association_id                 = (known after apply)
      [32m+[0m[0m ipv6_native                                    = (known after apply)
      [32m+[0m[0m map_customer_owned_ip_on_launch                = (known after apply)
      [32m+[0m[0m map_public_ip_on_launch                        = (known after apply)
      [32m+[0m[0m outpost_arn                                    = (known after apply)
      [32m+[0m[0m owner_id                                       = (known after apply)
      [32m+[0m[0m private_dns_hostname_type_on_launch            = (known after apply)
      [32m+[0m[0m region                                         = (known after apply)
      [32m+[0m[0m state                                          = (known after apply)
      [32m+[0m[0m tags                                           = (known after apply)
      [32m+[0m[0m vpc_id                                         = (known after apply)
    }

[1m  # module.vector_db.aws_db_instance.master_db[0m will be created
[0m  [32m+[0m[0m resource "aws_db_instance" "master_db" {
      [32m+[0m[0m address                               = (known after apply)
      [32m+[0m[0m allocated_storage                     = 20
      [32m+[0m[0m apply_immediately                     = false
      [32m+[0m[0m arn                                   = (known after apply)
      [32m+[0m[0m auto_minor_version_upgrade            = true
      [32m+[0m[0m availability_zone                     = (known after apply)
      [32m+[0m[0m backup_retention_period               = (known after apply)
      [32m+[0m[0m backup_target                         = (known after apply)
      [32m+[0m[0m backup_window                         = (known after apply)
      [32m+[0m[0m ca_cert_identifier                    = (known after apply)
      [32m+[0m[0m character_set_name                    = (known after apply)
      [32m+[0m[0m copy_tags_to_snapshot                 = false
      [32m+[0m[0m database_insights_mode                = (known after apply)
      [32m+[0m[0m db_name                               = "postgres"
      [32m+[0m[0m db_subnet_group_name                  = (known after apply)
      [32m+[0m[0m dedicated_log_volume                  = false
      [32m+[0m[0m delete_automated_backups              = true
      [32m+[0m[0m domain_fqdn                           = (known after apply)
      [32m+[0m[0m endpoint                              = (known after apply)
      [32m+[0m[0m engine                                = "postgres"
      [32m+[0m[0m engine_lifecycle_support              = (known after apply)
      [32m+[0m[0m engine_version                        = "17.2"
      [32m+[0m[0m engine_version_actual                 = (known after apply)
      [32m+[0m[0m hosted_zone_id                        = (known after apply)
      [32m+[0m[0m id                                    = (known after apply)
      [32m+[0m[0m identifier                            = "de-c1w4-vector-db"
      [32m+[0m[0m identifier_prefix                     = (known after apply)
      [32m+[0m[0m instance_class                        = "db.t3.micro"
      [32m+[0m[0m iops                                  = (known after apply)
      [32m+[0m[0m kms_key_id                            = (known after apply)
      [32m+[0m[0m latest_restorable_time                = (known after apply)
      [32m+[0m[0m license_model                         = (known after apply)
      [32m+[0m[0m listener_endpoint                     = (known after apply)
      [32m+[0m[0m maintenance_window                    = (known after apply)
      [32m+[0m[0m master_user_secret                    = (known after apply)
      [32m+[0m[0m master_user_secret_kms_key_id         = (known after apply)
      [32m+[0m[0m max_allocated_storage                 = 0
      [32m+[0m[0m monitoring_interval                   = 0
      [32m+[0m[0m monitoring_role_arn                   = (known after apply)
      [32m+[0m[0m multi_az                              = (known after apply)
      [32m+[0m[0m nchar_character_set_name              = (known after apply)
      [32m+[0m[0m network_type                          = (known after apply)
      [32m+[0m[0m option_group_name                     = (known after apply)
      [32m+[0m[0m parameter_group_name                  = (known after apply)
      [32m+[0m[0m password                              = (sensitive value)
      [32m+[0m[0m performance_insights_enabled          = false
      [32m+[0m[0m performance_insights_kms_key_id       = (known after apply)
      [32m+[0m[0m performance_insights_retention_period = (known after apply)
      [32m+[0m[0m port                                  = 5432
      [32m+[0m[0m publicly_accessible                   = true
      [32m+[0m[0m region                                = "us-east-1"
      [32m+[0m[0m replica_mode                          = (known after apply)
      [32m+[0m[0m replicas                              = (known after apply)
      [32m+[0m[0m resource_id                           = (known after apply)
      [32m+[0m[0m skip_final_snapshot                   = true
      [32m+[0m[0m snapshot_identifier                   = (known after apply)
      [32m+[0m[0m status                                = (known after apply)
      [32m+[0m[0m storage_throughput                    = (known after apply)
      [32m+[0m[0m storage_type                          = "gp2"
      [32m+[0m[0m tags_all                              = (known after apply)
      [32m+[0m[0m timezone                              = (known after apply)
      [32m+[0m[0m username                              = "postgres"
      [32m+[0m[0m vpc_security_group_ids                = (known after apply)
    }

[1m  # module.vector_db.aws_db_instance_role_association.rds_role_association[0m will be created
[0m  [32m+[0m[0m resource "aws_db_instance_role_association" "rds_role_association" {
      [32m+[0m[0m db_instance_identifier = "de-c1w4-vector-db"
      [32m+[0m[0m feature_name           = "s3Import"
      [32m+[0m[0m id                     = (known after apply)
      [32m+[0m[0m region                 = "us-east-1"
      [32m+[0m[0m role_arn               = (known after apply)
    }

[1m  # module.vector_db.aws_db_subnet_group.vector_db_subnet_group[0m will be created
[0m  [32m+[0m[0m resource "aws_db_subnet_group" "vector_db_subnet_group" {
      [32m+[0m[0m arn                     = (known after apply)
      [32m+[0m[0m description             = "Managed by Terraform"
      [32m+[0m[0m id                      = (known after apply)
      [32m+[0m[0m name                    = "de-c1w4-vector-db-subnet-group"
      [32m+[0m[0m name_prefix             = (known after apply)
      [32m+[0m[0m region                  = "us-east-1"
      [32m+[0m[0m subnet_ids              = [
          [32m+[0m[0m "subnet-078c2372f95425d86",
          [32m+[0m[0m "subnet-08190a662f99d3e2f",
        ]
      [32m+[0m[0m supported_network_types = (known after apply)
      [32m+[0m[0m tags_all                = (known after apply)
      [32m+[0m[0m vpc_id                  = (known after apply)
    }

[1m  # module.vector_db.aws_iam_role.rds_role[0m will be created
[0m  [32m+[0m[0m resource "aws_iam_role" "rds_role" {
      [32m+[0m[0m arn                   = (known after apply)
      [32m+[0m[0m assume_role_policy    = (known after apply)
      [32m+[0m[0m create_date           = (known after apply)
      [32m+[0m[0m force_detach_policies = false
      [32m+[0m[0m id                    = (known after apply)
      [32m+[0m[0m managed_policy_arns   = (known after apply)
      [32m+[0m[0m max_session_duration  = 3600
      [32m+[0m[0m name                  = "de-c1w4-rds-role"
      [32m+[0m[0m name_prefix           = (known after apply)
      [32m+[0m[0m path                  = "/"
      [32m+[0m[0m tags_all              = (known after apply)
      [32m+[0m[0m unique_id             = (known after apply)

      [32m+[0m[0m inline_policy (known after apply)
    }

[1m  # module.vector_db.aws_security_group.vector_db_sg[0m will be created
[0m  [32m+[0m[0m resource "aws_security_group" "vector_db_sg" {
      [32m+[0m[0m arn                    = (known after apply)
      [32m+[0m[0m description            = "Allow PostgreSQL connection to DB"
      [32m+[0m[0m egress                 = [
          [32m+[0m[0m {
              [32m+[0m[0m cidr_blocks      = [
                  [32m+[0m[0m "0.0.0.0/0",
                ]
              [32m+[0m[0m from_port        = 0
              [32m+[0m[0m ipv6_cidr_blocks = []
              [32m+[0m[0m prefix_list_ids  = []
              [32m+[0m[0m protocol         = "-1"
              [32m+[0m[0m security_groups  = []
              [32m+[0m[0m self             = false
              [32m+[0m[0m to_port          = 0
                [90m# (1 unchanged attribute hidden)[0m[0m
            },
        ]
      [32m+[0m[0m id                     = (known after apply)
      [32m+[0m[0m ingress                = [
          [32m+[0m[0m {
              [32m+[0m[0m cidr_blocks      = [
                  [32m+[0m[0m "0.0.0.0/0",
                ]
              [32m+[0m[0m description      = "PostgreSQL port"
              [32m+[0m[0m from_port        = 5432
              [32m+[0m[0m ipv6_cidr_blocks = []
              [32m+[0m[0m prefix_list_ids  = []
              [32m+[0m[0m protocol         = "tcp"
              [32m+[0m[0m security_groups  = []
              [32m+[0m[0m self             = false
              [32m+[0m[0m to_port          = 5432
            },
        ]
      [32m+[0m[0m name                   = "de-c1w4-vector-db-sg"
      [32m+[0m[0m name_prefix            = (known after apply)
      [32m+[0m[0m owner_id               = (known after apply)
      [32m+[0m[0m region                 = "us-east-1"
      [32m+[0m[0m revoke_rules_on_delete = false
      [32m+[0m[0m tags                   = {
          [32m+[0m[0m "Name" = "de-c1w4-vector-db-sg"
        }
      [32m+[0m[0m tags_all               = {
          [32m+[0m[0m "Name" = "de-c1w4-vector-db-sg"
        }
      [32m+[0m[0m vpc_id                 = "vpc-08a138dc1cf2e7c8d"
    }

[1m  # module.vector_db.random_id.master_password[0m will be created
[0m  [32m+[0m[0m resource "random_id" "master_password" {
      [32m+[0m[0m b64_std     = (known after apply)
      [32m+[0m[0m b64_url     = (known after apply)
      [32m+[0m[0m byte_length = 8
      [32m+[0m[0m dec         = (known after apply)
      [32m+[0m[0m hex         = (known after apply)
      [32m+[0m[0m id          = (known after apply)
    }

[1mPlan:[0m 18 to add, 0 to change, 0 to destroy.
[0m
Changes to Outputs:
  [32m+[0m[0m data_lake_bucket_id       = "de-c1w4-555833365064-us-east-1-datalake"
  [32m+[0m[0m recommendations_bucket_id = "de-c1w4-555833365064-us-east-1-recommendations"
  [32m+[0m[0m scripts_bucket_id         = "de-c1w4-555833365064-us-east-1-scripts"
  [32m+[0m[0m vector_db_host            = (known after apply)
  [32m+[0m[0m vector_db_master_password = (sensitive value)
  [32m+[0m[0m vector_db_master_username = (sensitive value)
  [32m+[0m[0m vector_db_port            = 5432
[0m[1mmodule.etl.aws_iam_role.glue_role: Creating...[0m[0m
[0m[1mmodule.etl.aws_glue_catalog_database.ml_database: Creating...[0m[0m
[0m[1mmodule.etl.aws_glue_connection.rds_connection: Creating...[0m[0m
[0m[1mmodule.etl.aws_iam_role.glue_role: Creation complete after 0s [id=de-c1w4-glue-role][0m
[0m[1mmodule.etl.aws_iam_role_policy.task_role_policy: Creating...[0m[0m
[0m[1mmodule.etl.aws_iam_role_policy.task_role_policy: Creation complete after 0s [id=de-c1w4-glue-role:de-c1w4-glue-role-policy][0m
[0m[1mmodule.etl.aws_glue_connection.rds_connection: Creation complete after 0s [id=555833365064:de-c1w4-rds-connection][0m
[0m[1mmodule.etl.aws_glue_catalog_database.ml_database: Creation complete after 0s [id=555833365064:de-c1w4-ml-db][0m
[0m[1mmodule.etl.aws_glue_job.etl_job: Creating...[0m[0m
[0m[1mmodule.etl.aws_glue_crawler.s3_crawler: Creating...[0m[0m
[0m[1mmodule.etl.aws_glue_job.etl_job: Creation complete after 1s [id=de-c1w4-etl-job][0m
[0m[1mmodule.etl.aws_glue_crawler.s3_crawler: Creation complete after 9s [id=de-c1w4-ml-db-crawler][0m
[0m[1mmodule.vector_db.data.aws_subnet.public_b: Reading...[0m[0m
[0m[1mmodule.vector_db.data.aws_subnet.public_a: Reading...[0m[0m
[0m[1mmodule.vector_db.data.aws_iam_policy_document.rds_assume_role: Reading...[0m[0m
[0m[1mmodule.vector_db.data.aws_iam_policy_document.rds_assume_role: Read complete after 0s [id=2562693050][0m
[0m[1mmodule.vector_db.random_id.master_password: Creating...[0m[0m
[0m[1mmodule.vector_db.aws_security_group.vector_db_sg: Creating...[0m[0m
[0m[1mmodule.vector_db.aws_iam_role.rds_role: Creating...[0m[0m
[0m[1mmodule.vector_db.random_id.master_password: Creation complete after 0s [id=2lTXudJaDng][0m
[0m[1mmodule.vector_db.data.aws_subnet.public_a: Read complete after 0s [id=subnet-078c2372f95425d86][0m
[0m[1mmodule.vector_db.data.aws_subnet.public_b: Read complete after 0s [id=subnet-08190a662f99d3e2f][0m
[0m[1mmodule.vector_db.aws_iam_role.rds_role: Creation complete after 0s [id=de-c1w4-rds-role][0m
[0m[1mmodule.vector_db.aws_db_subnet_group.vector_db_subnet_group: Creating...[0m[0m
[0m[1mmodule.vector_db.aws_db_subnet_group.vector_db_subnet_group: Creation complete after 1s [id=de-c1w4-vector-db-subnet-group][0m
[0m[1mmodule.vector_db.aws_security_group.vector_db_sg: Creation complete after 2s [id=sg-0a694c27a224f2e90][0m
[0m[1mmodule.vector_db.aws_db_instance.master_db: Creating...[0m[0m
[0m[1mmodule.vector_db.aws_db_instance.master_db: Still creating... [10s elapsed][0m[0m
[0m[1mmodule.vector_db.aws_db_instance.master_db: Still creating... [20s elapsed][0m[0m
[0m[1mmodule.vector_db.aws_db_instance.master_db: Still creating... [30s elapsed][0m[0m
[0m[1mmodule.vector_db.aws_db_instance.master_db: Still creating... [40s elapsed][0m[0m
[0m[1mmodule.vector_db.aws_db_instance.master_db: Still creating... [50s elapsed][0m[0m
[0m[1mmodule.vector_db.aws_db_instance.master_db: Still creating... [1m0s elapsed][0m[0m
[0m[1mmodule.vector_db.aws_db_instance.master_db: Still creating... [1m10s elapsed][0m[0m
[0m[1mmodule.vector_db.aws_db_instance.master_db: Still creating... [1m20s elapsed][0m[0m
[0m[1mmodule.vector_db.aws_db_instance.master_db: Still creating... [1m30s elapsed][0m[0m
[0m[1mmodule.vector_db.aws_db_instance.master_db: Still creating... [1m40s elapsed][0m[0m
[0m[1mmodule.vector_db.aws_db_instance.master_db: Still creating... [1m50s elapsed][0m[0m
[0m[1mmodule.vector_db.aws_db_instance.master_db: Still creating... [2m0s elapsed][0m[0m
[0m[1mmodule.vector_db.aws_db_instance.master_db: Still creating... [2m10s elapsed][0m[0m
[0m[1mmodule.vector_db.aws_db_instance.master_db: Still creating... [2m20s elapsed][0m[0m
[0m[1mmodule.vector_db.aws_db_instance.master_db: Still creating... [2m30s elapsed][0m[0m
[0m[1mmodule.vector_db.aws_db_instance.master_db: Still creating... [2m40s elapsed][0m[0m
[0m[1mmodule.vector_db.aws_db_instance.master_db: Still creating... [2m50s elapsed][0m[0m
[0m[1mmodule.vector_db.aws_db_instance.master_db: Still creating... [3m0s elapsed][0m[0m
[0m[1mmodule.vector_db.aws_db_instance.master_db: Still creating... [3m10s elapsed][0m[0m
[0m[1mmodule.vector_db.aws_db_instance.master_db: Still creating... [3m20s elapsed][0m[0m
[0m[1mmodule.vector_db.aws_db_instance.master_db: Still creating... [3m30s elapsed][0m[0m
[0m[1mmodule.vector_db.aws_db_instance.master_db: Still creating... [3m40s elapsed][0m[0m
[0m[1mmodule.vector_db.aws_db_instance.master_db: Still creating... [3m50s elapsed][0m[0m
[0m[1mmodule.vector_db.aws_db_instance.master_db: Still creating... [4m0s elapsed][0m[0m
[0m[1mmodule.vector_db.aws_db_instance.master_db: Still creating... [4m10s elapsed][0m[0m
[0m[1mmodule.vector_db.aws_db_instance.master_db: Still creating... [4m20s elapsed][0m[0m
[0m[1mmodule.vector_db.aws_db_instance.master_db: Still creating... [4m30s elapsed][0m[0m
[0m[1mmodule.vector_db.aws_db_instance.master_db: Still creating... [4m40s elapsed][0m[0m
[0m[1mmodule.vector_db.aws_db_instance.master_db: Still creating... [4m50s elapsed][0m[0m
[0m[1mmodule.vector_db.aws_db_instance.master_db: Creation complete after 4m55s [id=db-OIBJXPEXKAJ444CXZWVAD34PVA][0m
[0m[1mmodule.vector_db.aws_db_instance_role_association.rds_role_association: Creating...[0m[0m
[0m[1mmodule.vector_db.aws_db_instance_role_association.rds_role_association: Still creating... [10s elapsed][0m[0m
[0m[1mmodule.vector_db.aws_db_instance_role_association.rds_role_association: Creation complete after 14s [id=de-c1w4-vector-db,arn:aws:iam::555833365064:role/de-c1w4-rds-role][0m
[0m[1mmodule.streaming_inference.data.aws_caller_identity.current: Reading...[0m[0m
[0m[1mmodule.streaming_inference.data.aws_iam_policy_document.firehose_assume_role: Reading...[0m[0m
[0m[1mmodule.streaming_inference.data.aws_iam_policy_document.lambda_assume_role: Reading...[0m[0m
[0m[1mmodule.streaming_inference.data.aws_iam_policy_document.lambda_assume_role: Read complete after 0s [id=2690255455][0m
[0m[1mmodule.streaming_inference.data.aws_iam_policy_document.firehose_assume_role: Read complete after 0s [id=414810265][0m
[0m[1mmodule.streaming_inference.data.archive_file.transformation_lambda: Reading...[0m[0m
[0m[1mmodule.streaming_inference.aws_iam_role.transformation_lambda_role: Creating...[0m[0m
[0m[1mmodule.streaming_inference.aws_iam_role.firehose_role: Creating...[0m[0m
[0m[1mmodule.streaming_inference.data.archive_file.transformation_lambda: Read complete after 0s [id=4b1a288e42b43373314ec61cb820a7c9d7243257][0m
[0m[1mmodule.streaming_inference.data.aws_caller_identity.current: Read complete after 0s [id=555833365064][0m
[0m[1mmodule.streaming_inference.aws_iam_role.firehose_role: Creation complete after 0s [id=de-c1w4-firehose-role][0m
[0m[1mmodule.streaming_inference.aws_iam_role.transformation_lambda_role: Creation complete after 0s [id=de-c1w4-transformation-lambda-role][0m
[0m[1mmodule.streaming_inference.aws_iam_role_policy_attachment.lambda_execution_policy_attachment: Creating...[0m[0m
[0m[1mmodule.streaming_inference.aws_lambda_function.transformation_lambda: Creating...[0m[0m
[0m[1mmodule.streaming_inference.aws_iam_role_policy_attachment.lambda_execution_policy_attachment: Creation complete after 0s [id=de-c1w4-transformation-lambda-role/arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole][0m
[0m[1mmodule.streaming_inference.aws_lambda_function.transformation_lambda: Still creating... [10s elapsed][0m[0m
[0m[1mmodule.streaming_inference.aws_lambda_function.transformation_lambda: Still creating... [20s elapsed][0m[0m
[0m[1mmodule.streaming_inference.aws_lambda_function.transformation_lambda: Creation complete after 22s [id=de-c1w4-transformation-lambda][0m
[0m[1mmodule.streaming_inference.data.aws_iam_policy_document.firehose_role_policy: Reading...[0m[0m
[0m[1mmodule.streaming_inference.data.aws_iam_policy_document.firehose_role_policy: Read complete after 0s [id=1733342917][0m
[0m[1mmodule.streaming_inference.aws_iam_role_policy.firehose_role_policy: Creating...[0m[0m
[0m[1mmodule.streaming_inference.aws_kinesis_firehose_delivery_stream.extended_s3_stream: Creating...[0m[0m
[0m[1mmodule.streaming_inference.aws_iam_role_policy.firehose_role_policy: Creation complete after 0s [id=de-c1w4-firehose-role:de-c1w4-firehose-role-policy][0m
[0m[1mmodule.streaming_inference.aws_kinesis_firehose_delivery_stream.extended_s3_stream: Creation complete after 8s [id=arn:aws:firehose:us-east-1:555833365064:deliverystream/de-c1w4-delivery-stream][0m
[0m[1m[32m
Apply complete! Resources: 18 added, 0 changed, 0 destroyed.
[0m[0m[1m[32m
Outputs:

[0mdata_lake_bucket_id = "de-c1w4-555833365064-us-east-1-datalake"
recommendations_bucket_id = "de-c1w4-555833365064-us-east-1-recommendations"
scripts_bucket_id = "de-c1w4-555833365064-us-east-1-scripts"
vector_db_host = "de-c1w4-vector-db.cfqky40kk5hx.us-east-1.rds.amazonaws.com"
vector_db_master_password = <sensitive>
vector_db_master_username = <sensitive>
vector_db_port = 5432
